<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Deccan Realty</title>
    <link rel="stylesheet" href="output.css">
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="components.js" defer></script>
    <script src="headerfooter.js" defer></script>
    <script src="https://kit.fontawesome.com/79772b0b50.js" crossorigin="anonymous"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
        * {
            font-family: 'Poppins', sans-serif;
        }
    </style>
</head>
<body class="bg-[#060d42] text-gray-800 overflow-x-hidden">
    <!-- Hero Section -->
    <section class="bg-[#060d42] text-white py-10 md:py-16">
        <div class="container mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-5">
            <div class="w-full md:w-3/5 text-center md:text-left">
                <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-light mb-4">
                    Contact <span class="text-[#ff6b35] font-semibold">Us</span>
                </h1>
                <p class="text-xl sm:text-2xl md:text-3xl font-light">
                    Let's Connect & Find Your <span class="font-semibold">Dream Property</span>
                </p>
                <a href="#" id="openModalBtn" class="mt-6 inline-block bg-[#2ecc71] text-white px-6 py-3 rounded-md font-medium text-base uppercase hover:bg-[#27ae60] transition">Contact Us</a>
            </div>
            <div class="w-full md:w-2/5 mt-6 md:mt-0">
                <img src="assets/images/1c79c8d9432a6c95418e45e9c413a35d.png" alt="Property Image" class="w-full h-auto max-h-[350px] object-cover rounded-lg shadow-lg">
            </div>
        </div>
    </section>

    <!-- Contact Modal -->
    <div id="modalOverlay" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center">
        <div id="modal" class="bg-[#5a4d5a] w-11/12 max-w-lg p-6 rounded-lg relative transform -translate-y-full opacity-0 transition-all duration-500 ease-in-out">
            <span id="closeModalBtn" class="absolute top-2 right-2 text-white text-2xl cursor-pointer">Ã—</span>
            <h2 class="text-white text-xl md:text-2xl font-medium text-center mb-5">Fill your enquiry here</h2>
            <form id="contactForm" class="flex flex-col gap-4">
                <input id="name" type="text" placeholder="Name" required class="p-3 rounded-md text-gray-800 bg-white w-full text-sm md:text-base focus:outline-none focus:ring-2 focus:ring-red-500" aria-describedby="name-error">
                <p id="name-error" class="text-red-400 text-sm hidden">Name is required</p>
                <input id="email" type="email" placeholder="Email" required class="p-3 rounded-md text-gray-800 bg-white w-full text-sm md:text-base focus:outline-none focus:ring-2 focus:ring-red-500" aria-describedby="email-error">
                <p id="email-error" class="text-red-400 text-sm hidden">Email is required</p>
                <input id="phone" type="tel" placeholder="Mobile Number" required class="p-3 rounded-md text-gray-800 bg-white w-full text-sm md:text-base focus:outline-none focus:ring-2 focus:ring-red-500" aria-describedby="phone-error">
                <p id="phone-error" class="text-red-400 text-sm hidden">Mobile Number is required</p>
                <textarea id="message" placeholder="Your Message" required class="p-3 rounded-md text-gray-800 bg-white w-full h-24 resize-none text-sm md:text-base focus:outline-none focus:ring-2 focus:ring-red-500" aria-describedby="message-error"></textarea>
                <p id="message-error" class="text-red-400 text-sm hidden">Message is required</p>
                <div class="flex justify-between items-center">
                    <p id="form-status" class="text-white text-sm"></p>
                    <button type="submit" class="bg-white text-gray-800 px-4 py-2 rounded-md border border-gray-300 font-medium text-sm md:text-base hover:bg-gray-100 transition">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Contact Section -->
    <section class="bg-white py-16 text-center">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center gap-8 mb-12">
                <p class="text-gray-700 text-base md:text-lg leading-relaxed text-left w-full md:w-1/2">
                    Connect with us on social media for the latest insights, a glimpse into our culture, and a look at how our unique approach empowers clients to achieve exceptional results.
                </p>
                <div class="flex gap-5">
                    <a href="#" class="bg-[#060d42] text-white w-10 h-10 md:w-12 md:h-12 flex items-center justify-center rounded-full text-xl md:text-2xl">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <a href="#" class="bg-[#060d42] text-white w-10 h-10 md:w-12 md:h-12 flex items-center justify-center rounded-full text-xl md:text-2xl">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="bg-[#060d42] text-white w-10 h-10 md:w-12 md:h-12 flex items-center justify-center rounded-full text-xl md:text-2xl">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                </div>
            </div>
            <div class="flex flex-wrap justify-center gap-8">
                <div class="bg-gradient-to-br from-gray-100 to-white p-6 rounded-xl w-full sm:w-[45%] md:w-[22%] shadow-lg hover:-translate-y-1 transition-transform">
                       <i class="fas fa-phone text-2xl"></i> 
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Call Us</h3>
                    <p class="text-gray-600 text-sm md:text-base">+91 7303062845<br>+91 9718361550<br>09:00 AM to 09:00 PM</p>
                </div>
                <div class="bg-gradient-to-br from-gray-100 to-white p-6 rounded-xl w-full sm:w-[45%] md:w-[22%] shadow-lg hover:-translate-y-1 transition-transform">
                    <i class="fa-brands fa-whatsapp text-3xl"></i> 
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">WhatsApp Us</h3>
                    <p class="text-gray-600 text-sm md:text-base">+91 7303062845<br>+91 9718361550<br>09:00 AM to 09:00 PM</p>
                </div>
                <div class="bg-gradient-to-br from-gray-100 to-white p-6 rounded-xl w-full sm:w-[45%] md:w-[22%] shadow-lg hover:-translate-y-1 transition-transform">
                    <i class="fas fa-envelope text-2xl"></i> 
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Email Us</h3>
                    <p class="text-gray-600 text-sm md:text-base">info@deccanrealty.com<br>Send us your query anytime</p>
                </div>
                <div class="bg-gradient-to-br from-gray-100 to-white p-6 rounded-xl w-full sm:w-[45%] md:w-[22%] shadow-lg hover:-translate-y-1 transition-transform">
                    <i class="fas fa-map-marker-alt text-2xl"></i> 
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Our Address</h3>
                    <p class="text-gray-600 text-sm md:text-base">No 56/6, 6th C Main Road 4th Block East,<br>Jayanagar Bengaluru-560041</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer Container -->
    <div id="footer-container"></div>

    <!-- JavaScript for Modal and Form Submission -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const openModalBtn = document.getElementById('openModalBtn');
            const modalOverlay = document.getElementById('modalOverlay');
            const modal = document.getElementById('modal');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const contactForm = document.getElementById('contactForm');
            const formStatus = document.getElementById('form-status');
            const body = document.body;

            // Modal Open
            openModalBtn.addEventListener('click', function (e) {
                e.preventDefault();
                modalOverlay.classList.remove('hidden');
                body.classList.add('overflow-hidden'); // Disable background scrolling
                setTimeout(() => modal.classList.add('translate-y-0', 'opacity-100'), 10);
            });

            // Modal Close (only via X button)
            closeModalBtn.addEventListener('click', function () {
                modal.classList.remove('translate-y-0', 'opacity-100');
                modal.classList.add('-translate-y-full', 'opacity-0');
                setTimeout(() => {
                    modalOverlay.classList.add('hidden');
                    body.classList.remove('overflow-hidden'); // Re-enable background scrolling
                }, 500);
            });

            // Form Submission with API Integration
            contactForm.addEventListener('submit', async function (e) {
                e.preventDefault();

                const name = document.getElementById('name').value.trim();
                const email = document.getElementById('email').value.trim();
                const phone = document.getElementById('phone').value.trim();
                const message = document.getElementById('message').value.trim();

                // Reset error messages
                document.querySelectorAll('[id$="-error"]').forEach(error => error.classList.add('hidden'));

                // Validate fields
                let isValid = true;
                if (!name) {
                    document.getElementById('name-error').classList.remove('hidden');
                    isValid = false;
                }
                if (!email) {
                    document.getElementById('email-error').classList.remove('hidden');
                    isValid = false;
                }
                if (!phone) {
                    document.getElementById('phone-error').classList.remove('hidden');
                    isValid = false;
                }
                if (!message) {
                    document.getElementById('message-error').classList.remove('hidden');
                    isValid = false;
                }

                if (!isValid) {
                    formStatus.textContent = 'Please fill all required fields';
                    formStatus.classList.add('text-red-400');
                    return;
                }

                const payload = {
                    subject: "Enquiry property by Deccan Realty",
                    message: message,
                    email: email,
                    name: name,
                    phone: phone
                };

                formStatus.textContent = 'Submitting...';
                formStatus.classList.remove('text-red-400', 'text-green-400');
                formStatus.classList.add('text-yellow-400');

                try {
                    const response = await fetch('https://dncrnewapi-bmbfb6f6awd8b0bd.westindia-01.azurewebsites.net/properties/GetInTouch', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }

                    formStatus.textContent = 'Enquiry submitted successfully!';
                    formStatus.classList.remove('text-yellow-400');
                    formStatus.classList.add('text-green-400');
                    contactForm.reset();
                    setTimeout(() => {
                        modal.classList.remove('translate-y-0', 'opacity-100');
                        modal.classList.add('-translate-y-full', 'opacity-0');
                        setTimeout(() => {
                            modalOverlay.classList.add('hidden');
                            body.classList.remove('overflow-hidden'); // Re-enable scrolling
                        }, 500);
                    }, 2000);
                } catch (error) {
                    console.error('Error:', error);
                    formStatus.textContent = 'Failed to submit enquiry. Please try again.';
                    formStatus.classList.remove('text-yellow-400');
                    formStatus.classList.add('text-red-400');
                }
            });
        });
    </script>
</body>
</html>